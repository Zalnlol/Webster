@{
    ViewData["Title"] = "Change Information";

    var res = ViewBag.ds1;

}
@using WebsterWebApp.Data
@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<div class="container" style="padding-top:5%; padding-bottom:5%">
    <div class="row">
        <div class="col" style="margin-bottom:2%"><h3 style="text-align:center">Change Information</h3></div>
    </div>
    <div class="row">
        <div class="col-sm-4"></div>
        <div class="col-sm-4">
            <form asp-controller="UserAuth" asp-action="Changeinfor" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <div class="row">
                        <div class="col">First Name</div>
                        <div class="col"><input type="text" name="FirstName" value="@UserManager.GetUserAsync(User).Result?.FirstName" /></div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col"> Last Name</div>
                        <div class="col">
                            <input type="text" name="LastName" value="@UserManager.GetUserAsync(User).Result?.LastName" />
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col"> <label>Phone</label></div>
                        <div class="col">
                            <input type="tel" name="PhoneNumber" value="@UserManager.GetUserAsync(User).Result?.PhoneNumber" />
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col"> <label>Avatar</label></div>
                        <div class="col">
                            <input type="file" name="Avatar" id="photoQuestion" onchange="validationPhotoQuestion()" class="form-control" />
                        </div>
                    </div>
                </div>
                <div class="form-group" style="text-align:center">
                    <input type="submit" value="submit" class="btn btn-info" />
                </div>
            </form>
        </div>
    </div>
</div>
<script>

    function validationPhotoQuestion() {
        var fileInput = document.getElementById('photoQuestion');
        var filePath = fileInput.value;

        var allowedExtensions =
            /(\.jpg|\.jpeg|\.png|\.gif)$/i;

        if (!allowedExtensions.exec(filePath)) {
            alert('Invalid file type!');
            fileInput.value = '';
            return false;
        } else {

            return true;
        }

    }

</script>  